# Branch #

ให้จำกฎนี้ไว้ก่อน

- โค้ดใน Branch master จะต้องเชื่อถือได้เสมอ
- การเขียนโค้ดจะต้องไม่ทำใน Branch master

การแตก Branch เป็นคุณสมบัติหนึ่งของ Git เขาแตกเพื่อแยกสายการพัฒนา หรือจะแตกออกไปเพื่อทดสอบเขียนโค้ดก็ได้ หลังจากทดสอบเสร็จค่อย swap กลับมา Branch หลักแล้วลบ Branch ทดสอบทิ้ง 

Branch แรกที่จะมีมาเลยคือ master master จะเป็น Branch หลักและเราจะไม่เขียนโค้ดในนี้ มันจะเป็น Branch ที่ไว้ใช้สำหรับเอาโค้ดขึ้นโปรดักชั่นเท่านั้น ปกติเขาจะแตก branch ออกมา branch หนึ่งตั้งชื่อว่า developer (นิยมกันอย่างนั้น) แล้วก็เขียนโค้ดแก้โค้ดกันใน branch นี้ เมื่อทดสอบโค้ดจนแน่ใจและพร้อมจะเอามันขึ้นโปรดักชั่นแล้ว ก็จะทำการ merge โค้ดจาก developer เข้า master แล้วเอาโค้ดจาก master ขึ้นโปรดักชั่น 

หากจะถามว่าทำไมต้องทำให้มันดูวุ่นวายอย่างงั้น ให้กลับไปอ่านกฎ และจริงๆแล้วสิ่งที่แนะนำไว้มันเป็น best practice ที่ดีที่สุด

อันนี้ขอเล่าสิ่งที่บริษัทผมทำนะครับ  ตอนเราเริ่มโปรเจ็กใหม่ เรามอบหน้าที่ให้คนหนึ่งไปสร้าง Repository บน bitbucket ขึ้นมา 1 ตัว แตก Branch developer ไว้เลย แล้วทุกคนก็   clone Repository ลงมาเขียนโค้ดกันใน Branch developer ทดสอบโค้ดกันใน branch นี้จากนั้นเมื่อทุกอย่างเรียบร้อย จะเอาขึ้นโปรดักชั่นแล้ว คนหนึ่งก็จะทำการ merge โค้ดเข้า master แล้วเอาโค้ดขึ้นโปรดักชั่น เสร็จก็สร้าง tag เวอชั่นไว้ ทำอย่างนี้วนไปเรื่อยๆ 









